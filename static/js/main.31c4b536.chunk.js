(this.webpackJsonpbooks_library=this.webpackJsonpbooks_library||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a,c,r,i,s,l=n(1),o=n.n(l),h=n(26),b=n.n(h),d=(n(34),n(12)),u=(n(35),n(4)),j=n.n(u),O=n(10),x=n(11),p=n(0),f=x.a.div(a||(a=Object(O.a)(["\nwidth: 80%;\nmargin-left: auto;\nmargin-right: auto;\ndisplay: flex;\nflex-direction: column;\n"]))),m=x.a.table(c||(c=Object(O.a)(["\nborder-collapse: collapse;\n"]))),y=x.a.td(r||(r=Object(O.a)(["\nborder: .2rem solid green;\n"]))),S=x.a.th(i||(i=Object(O.a)(["\nborder: .2rem solid green;\n"]))),_=x.a.h3(s||(s=Object(O.a)(["\nborder: .3rem solid yellow;\nmargin-bottom: 0;\nmargin-top: 0;\n"])));function C(e){var t=e.dataObjectArray,n=e.tableState;return Object(p.jsxs)(f,{style:{paddingTop:"1rem"},children:[Object(p.jsx)(_,{children:n}),Object(p.jsxs)(m,{children:[Object(p.jsx)("colgroup",{span:t[0].length}),Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object.keys(t[0]).map((function(e,t){return Object(p.jsx)(S,{children:e},t)}))})}),Object(p.jsx)("tbody",{children:t.map((function(e,t){return"authors"===n?Object(p.jsxs)("tr",{children:[Object(p.jsx)(y,{children:e.author_id}),Object(p.jsx)(y,{children:e.name_last}),Object(p.jsx)(y,{children:e.name_first}),Object(p.jsx)(y,{children:e.country})]},t):Object(p.jsxs)("tr",{children:[Object(p.jsx)(y,{children:e.isbn}),Object(p.jsx)(y,{children:e.title}),Object(p.jsx)(y,{children:e.author_id}),Object(p.jsx)(y,{children:e.year_pub}),Object(p.jsx)(y,{children:e.description})]},t)}))})]})]})}var v=n(5),g=n(6),T=n(7),D=n(3),A=n(9),E=n(8),k=function(e){Object(A.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={lastName:"",firstName:"",countryName:""},a.handleChange=a.handleChange.bind(Object(D.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(D.a)(a)),a}return Object(T.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),j.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/library_crud_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).JAWSDB_MARIA_URL,"/api"),{name_last:"".concat(this.state.lastName),name_first:"".concat(this.state.firstName),country:"".concat(this.state.countryName)},{headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"authors"}}).then((function(){return alert("Author successfully added")})).catch((function(e){return alert(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(p.jsxs)("form",{onSubmit:this.handleSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)("h2",{children:"Add author to library"}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Last name"}),Object(p.jsx)("textarea",{type:"text",name:"lastName",onChange:this.handleChange,value:this.state.lastName,style:{flex:1}})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"First name"}),Object(p.jsx)("textarea",{type:"text",name:"firstName",onChange:this.handleChange,value:this.state.firstName,style:{flex:1}})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Country of origin"}),Object(p.jsx)("textarea",{type:"text",name:"countryName",onChange:this.handleChange,value:this.state.countryName,style:{flex:1}})]}),Object(p.jsx)("button",{type:"submit",children:"Submit"})]})}}]),n}(l.Component),R=function(e){Object(A.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={isbn:"",title:"",author_id:"",year_pub:"",description:""},a.handleChange=a.handleChange.bind(Object(D.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(D.a)(a)),a}return Object(T.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),j.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/library_crud_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).JAWSDB_MARIA_URL,"/api"),{isbn:"".concat(this.state.isbn),title:"".concat(this.state.title),author_id:"".concat(this.state.author_id),year_pub:"".concat(this.state.year_pub),description:"".concat(this.state.description)},{headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"books"}}).then((function(e){return alert(e)})).catch((function(e){return alert(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(p.jsxs)("form",{onSubmit:this.handleSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)("h2",{children:"Add book to library"}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"ISBN"}),Object(p.jsx)("textarea",{type:"text",name:"isbn",onChange:this.handleChange,value:this.state.isbn,style:{flex:1}})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Title"}),Object(p.jsx)("textarea",{type:"text",name:"title",onChange:this.handleChange,value:this.state.title,style:{flex:1}})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Author ID"}),Object(p.jsx)("textarea",{type:"text",name:"author_id",onChange:this.handleChange,value:this.state.author_id,style:{flex:1}})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Year Published"}),Object(p.jsx)("textarea",{type:"text",name:"year_pub",onChange:this.handleChange,value:this.state.year_pub,style:{flex:1}})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Book Description"}),Object(p.jsx)("textarea",{type:"text",name:"description",onChange:this.handleChange,value:this.state.description,style:{flex:1}})]}),Object(p.jsx)("button",{type:"submit",children:"Submit"})]})}}]),n}(l.Component),N=function(e){Object(A.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={isbn:"",authorId:""},a.handleChange=a.handleChange.bind(Object(D.a)(a)),a.handleBookSubmit=a.handleBookSubmit.bind(Object(D.a)(a)),a.handleAuthorSubmit=a.handleAuthorSubmit.bind(Object(D.a)(a)),a}return Object(T.a)(n,[{key:"handleBookSubmit",value:function(e){e.preventDefault(),j.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/library_crud_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).JAWSDB_MARIA_URL,"/api"),{data:{isbn:"".concat(this.state.isbn)},headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"books"}}).then((function(){return alert("Book successfully deleted.")})).catch((function(e){return alert(e)}))}},{key:"handleAuthorSubmit",value:function(e){e.preventDefault(),j.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/library_crud_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).JAWSDB_MARIA_URL,"/api"),{data:{author_id:"".concat(this.state.authorId)},headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"authors"}}).then((function(){return alert("Author successfully deleted.")})).catch((function(e){return alert(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return"books"===this.props.table?Object(p.jsxs)("form",{onSubmit:this.handleBookSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)("h2",{children:"Delete book from library"}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"ISBN"}),Object(p.jsx)("textarea",{type:"text",name:"isbn",onChange:this.handleChange,value:this.state.isbn,style:{flex:1}})]}),Object(p.jsx)("button",{type:"submit",children:"Submit"})]}):Object(p.jsxs)("form",{onSubmit:this.handleAuthorSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)("h2",{children:"Delete author from library"}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Author ID"}),Object(p.jsx)("textarea",{type:"text",name:"authorId",onChange:this.handleChange,value:this.state.authorId,style:{flex:1}})]}),Object(p.jsx)("button",{type:"submit",children:"Submit"})]})}}]),n}(l.Component);var w=function(){var e=Object(l.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(l.useState)(""),r=Object(d.a)(c,2),i=r[0],s=r[1],o=Object(l.useState)([]),h=Object(d.a)(o,2),b=h[0],u=h[1],O=Object(l.useState)(!1),x=Object(d.a)(O,2),f=x[0],m=x[1];Object(l.useEffect)((function(){!0===n&&j.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/library_crud_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).JAWSDB_MARIA_URL,"/api"),{headers:{"Content-type":"application/x-www-form-urlencoded"},params:{table:i}}).then((function(e){return u(e.data)})).then((function(){return m(!0)&&a(!1)})).catch((function(e){return console.log(e)}))}),[n,i]);var y=function(e){s(e),a(!0)};return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsxs)("div",{className:"get",children:[Object(p.jsx)("h2",{children:"View library"}),Object(p.jsx)("button",{onClick:function(){return y("authors")},children:"View authors"}),Object(p.jsx)("button",{onClick:function(){return y("books")},children:"View books"})]})}),Object(p.jsxs)("div",{className:"Body",children:[!1===f?Object(p.jsx)("div",{}):Object(p.jsx)(C,{tableState:i,dataObjectArray:b}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:["authors"===i?Object(p.jsx)(k,{style:{flex:1}}):Object(p.jsx)(R,{style:{flex:1}}),Object(p.jsx)(N,{table:i,style:{flex:1}})]})]})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};b.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),B()}},[[55,1,2]]]);
//# sourceMappingURL=main.31c4b536.chunk.js.map