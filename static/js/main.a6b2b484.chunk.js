(this.webpackJsonpbooks_library=this.webpackJsonpbooks_library||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n,c,r,i,s,l=a(1),o=a.n(l),h=a(26),b=a.n(h),u=(a(34),a(12)),d=(a(35),a(4)),j=a.n(d),p=a(10),x=a(11),O=a(0),m=x.a.div(n||(n=Object(p.a)(["\nwidth: 80%;\nmargin-left: auto;\nmargin-right: auto;\ndisplay: flex;\nflex-direction: column;\n"]))),f=x.a.table(c||(c=Object(p.a)(["\nborder-collapse: collapse;\n"]))),y=x.a.td(r||(r=Object(p.a)(["\nborder: .2rem solid green;\n"]))),g=x.a.th(i||(i=Object(p.a)(["\nborder: .2rem solid green;\n"]))),v=x.a.h3(s||(s=Object(p.a)(["\nborder: .3rem solid yellow;\nmargin-bottom: 0;\nmargin-top: 0;\n"])));function C(e){var t=e.dataObjectArray,a=e.tableState;return Object(O.jsxs)(m,{style:{paddingTop:"1rem"},children:[Object(O.jsx)(v,{children:a}),Object(O.jsxs)(f,{children:[Object(O.jsx)("colgroup",{span:t[0].length}),Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{children:Object.keys(t[0]).map((function(e,t){return Object(O.jsx)(g,{children:e},t)}))})}),Object(O.jsx)("tbody",{children:t.map((function(e,t){return"authors"===a?Object(O.jsxs)("tr",{children:[Object(O.jsx)(y,{children:e.author_id}),Object(O.jsx)(y,{children:e.name_last}),Object(O.jsx)(y,{children:e.name_first}),Object(O.jsx)(y,{children:e.country})]},t):Object(O.jsxs)("tr",{children:[Object(O.jsx)(y,{children:e.isbn}),Object(O.jsx)(y,{children:e.title}),Object(O.jsx)(y,{children:e.author_id}),Object(O.jsx)(y,{children:e.year_pub}),Object(O.jsx)(y,{children:e.description})]},t)}))})]})]})}var S=a(5),k=a(6),w=a(7),_=a(3),N=a(9),D=a(8),A=function(e){Object(N.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={lastName:"",firstName:"",countryName:""},n.handleChange=n.handleChange.bind(Object(_.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(_.a)(n)),n}return Object(w.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),j.a.post("".concat("https://pd-library-crud-app.herokuapp.com/","/api"),{name_last:"".concat(this.state.lastName),name_first:"".concat(this.state.firstName),country:"".concat(this.state.countryName)},{headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"authors"}}).then((function(){return alert("Author successfully added")})).catch((function(e){return alert(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(O.jsxs)("form",{onSubmit:this.handleSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("h2",{children:"Add author to library"}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Last name"}),Object(O.jsx)("textarea",{type:"text",name:"lastName",onChange:this.handleChange,value:this.state.lastName,style:{flex:1}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"First name"}),Object(O.jsx)("textarea",{type:"text",name:"firstName",onChange:this.handleChange,value:this.state.firstName,style:{flex:1}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Country of origin"}),Object(O.jsx)("textarea",{type:"text",name:"countryName",onChange:this.handleChange,value:this.state.countryName,style:{flex:1}})]}),Object(O.jsx)("button",{type:"submit",children:"Submit"})]})}}]),a}(l.Component),B=function(e){Object(N.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={isbn:"",title:"",author_id:"",year_pub:"",description:""},n.handleChange=n.handleChange.bind(Object(_.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(_.a)(n)),n}return Object(w.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),j.a.post("".concat("https://pd-library-crud-app.herokuapp.com/","/api"),{isbn:"".concat(this.state.isbn),title:"".concat(this.state.title),author_id:"".concat(this.state.author_id),year_pub:"".concat(this.state.year_pub),description:"".concat(this.state.description)},{headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"books"}}).then((function(e){return alert(e)})).catch((function(e){return alert(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(O.jsxs)("form",{onSubmit:this.handleSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("h2",{children:"Add book to library"}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"ISBN"}),Object(O.jsx)("textarea",{type:"text",name:"isbn",onChange:this.handleChange,value:this.state.isbn,style:{flex:1}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Title"}),Object(O.jsx)("textarea",{type:"text",name:"title",onChange:this.handleChange,value:this.state.title,style:{flex:1}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Author ID"}),Object(O.jsx)("textarea",{type:"text",name:"author_id",onChange:this.handleChange,value:this.state.author_id,style:{flex:1}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Year Published"}),Object(O.jsx)("textarea",{type:"text",name:"year_pub",onChange:this.handleChange,value:this.state.year_pub,style:{flex:1}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Book Description"}),Object(O.jsx)("textarea",{type:"text",name:"description",onChange:this.handleChange,value:this.state.description,style:{flex:1}})]}),Object(O.jsx)("button",{type:"submit",children:"Submit"})]})}}]),a}(l.Component),I=function(e){Object(N.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={isbn:"",authorId:""},n.handleChange=n.handleChange.bind(Object(_.a)(n)),n.handleBookSubmit=n.handleBookSubmit.bind(Object(_.a)(n)),n.handleAuthorSubmit=n.handleAuthorSubmit.bind(Object(_.a)(n)),n}return Object(w.a)(a,[{key:"handleBookSubmit",value:function(e){e.preventDefault(),j.a.delete("".concat("https://pd-library-crud-app.herokuapp.com/","/api"),{data:{isbn:"".concat(this.state.isbn)},headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"books"}}).then((function(){return alert("Book successfully deleted.")})).catch((function(e){return alert(e)}))}},{key:"handleAuthorSubmit",value:function(e){e.preventDefault(),j.a.delete("".concat("https://pd-library-crud-app.herokuapp.com/","/api"),{data:{author_id:"".concat(this.state.authorId)},headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{table:"authors"}}).then((function(){return alert("Author successfully deleted.")})).catch((function(e){return alert(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return"books"===this.props.table?Object(O.jsxs)("form",{onSubmit:this.handleBookSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("h2",{children:"Delete book from library"}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"ISBN"}),Object(O.jsx)("textarea",{type:"text",name:"isbn",onChange:this.handleChange,value:this.state.isbn,style:{flex:1}})]}),Object(O.jsx)("button",{type:"submit",children:"Submit"})]}):Object(O.jsxs)("form",{onSubmit:this.handleAuthorSubmit,style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("h2",{children:"Delete author from library"}),Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Author ID"}),Object(O.jsx)("textarea",{type:"text",name:"authorId",onChange:this.handleChange,value:this.state.authorId,style:{flex:1}})]}),Object(O.jsx)("button",{type:"submit",children:"Submit"})]})}}]),a}(l.Component);var T=function(){var e=Object(l.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(""),r=Object(u.a)(c,2),i=r[0],s=r[1],o=Object(l.useState)([]),h=Object(u.a)(o,2),b=h[0],d=h[1],p=Object(l.useState)(!1),x=Object(u.a)(p,2),m=x[0],f=x[1];Object(l.useEffect)((function(){!0===a&&j.a.get("".concat("https://pd-library-crud-app.herokuapp.com/","/api"),{headers:{"Content-type":"application/x-www-form-urlencoded"},params:{table:i}}).then((function(e){return d(e.data)})).then((function(){return f(!0)&&n(!1)})).catch((function(e){return console.log(e)}))}),[a,i]);var y=function(e){s(e),n(!0)};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("header",{className:"App-header",children:Object(O.jsxs)("div",{className:"get",children:[Object(O.jsx)("h2",{children:"View library"}),Object(O.jsx)("button",{onClick:function(){return y("authors")},children:"View authors"}),Object(O.jsx)("button",{onClick:function(){return y("books")},children:"View books"})]})}),Object(O.jsxs)("div",{className:"Body",children:[!1===m?Object(O.jsx)("div",{}):Object(O.jsx)(C,{tableState:i,dataObjectArray:b}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:["authors"===i?Object(O.jsx)(A,{style:{flex:1}}):Object(O.jsx)(B,{style:{flex:1}}),Object(O.jsx)(I,{table:i,style:{flex:1}})]})]})]})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,56)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};b.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root")),F()}},[[55,1,2]]]);
//# sourceMappingURL=main.a6b2b484.chunk.js.map